<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="lawtion.dao.PrecedentDAO">

<select id="getSearchList" resultType="lawtion.vo.PrecedentVO">
	select rno, no, title, content, result, hits
	 from (select rownum as rno, no, title, content, result, hits
	 from (select * from precedent_normal where title like '%' || #{param1} || '%' or content like '%' || #{param1} || '%'))
	 where rno between #{param2} and #{param3}
</select>

<!--  <select id="getResultList" resultType="lawtion.vo.PrecedentVO">
	select rownum as rno, no, title, result, hits from precedent_normal
</select>-->
<select id="getResultVO" resultType="lawtion.vo.PrecedentVO">
	select title,content from precedent_normal where no=#{param1}
</select>

<update id="getUpdateHits">
	update precedent_normal set hits = hits+1 where no=#{param1}
</update>

<select id="execTotalCount" resultType="int">
	select count(*) from precedent_normal
</select>

<select id="execTotalCount1" resultType="int">
	select count(*) from precedent_normal where title like '%' || #{param1} || '%' or content like '%' || #{param1} || '%'
</select>

<select id="getResultList" resultType="lawtion.vo.PrecedentVO">
	select rno, no, title, content, result, hits
	 from (select rownum as rno, no, title, content, result, hits
	 from (select rownum as rno, no, title, content, result, hits from precedent_normal order by rno desc))
	 where rno between #{param1} and #{param2}
</select>

<insert id="InsertPrecedent">
	insert into precedent_normal values(sequ_precedent_normal.nextval,#{title},#{content},#{result},0)
</insert>

<update id="getUpdateResult" >
      update precedent_normal set title=#{title},content=#{content} where no=#{no}
 </update>
 
 <delete id="getDeleteResult">
 	delete from precedent_normal where no=#{no}
 </delete>
</mapper>